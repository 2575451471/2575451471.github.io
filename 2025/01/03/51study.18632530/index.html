<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>51study | Shenle</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="article">
<meta property="og:title" content="51study">
<meta property="og:url" content="https://github.com/2575451471/2575451471.github.io/2025/01/03/51study.18632530/index.html">
<meta property="og:site_name" content="Shenle">
<meta property="og:locale">
<meta property="og:image" content="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226131710572-1180467501.png">
<meta property="og:image" content="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226131729741-1962142620.png">
<meta property="og:image" content="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226131754795-201271252.png">
<meta property="og:image" content="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226131808515-806790385.png">
<meta property="og:image" content="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226131826067-688408422.png">
<meta property="og:image" content="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226131912276-1838087298.png">
<meta property="og:image" content="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226131934133-1552932081.png">
<meta property="og:image" content="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226131948133-577819298.png">
<meta property="og:image" content="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226132005797-1686435685.png">
<meta property="og:image" content="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226132019438-699575464.png">
<meta property="og:image" content="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226132031706-1460193937.png">
<meta property="og:image" content="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226132046827-724029345.png">
<meta property="article:published_time" content="2025-01-03T15:39:00.000Z">
<meta property="article:modified_time" content="2025-02-14T20:26:54.417Z">
<meta property="article:author" content="shenle">
<meta property="article:tag" content="嵌入式51">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226131710572-1180467501.png">
  
    <link rel="alternative" href="/atom.xml" title="Shenle" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  

  
<script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>

  
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>


  
      <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
<script>AV.initialize("your_app_id", "your_app_key");</script>

<script src="/js/Counter.js"></script>

  
<meta name="generator" content="Hexo 7.3.0"></head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
				<img lazy-src="/img/header.png" class="js-avatar">
			
		</a>

		<hgroup>
			<h1 class="header-author"><a href="/">shenle</a></h1>
		</hgroup>

		
			<p class="header-subtitle"></p>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">Home</a></li>
				        
							<li><a href="/archives">Archives</a></li>
				        
						</ul>
					</nav>
					<nav class="half-header-menu">
						<a class="hide">Home</a>
						<a>Tags</a>
						<a>Links</a>
						<a>About</a>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/2575451471" title="github">github</a>
					        
								<a class="cnblogs" target="_blank" href="https://www.cnblogs.com/shenleblog" title="cnblogs">cnblogs</a>
					        
								<a class="qq" target="_blank" href="https://img2023.cnblogs.com/blog/3084836/202502/3084836-20250215043636691-2144966981.jpg" title="qq">qq</a>
					        
						</div>
						<!-- music -->
						
							<!-- <div style="position: absolute; bottom: 120px; left: auto; width: 85%;"> -->
							<div style="position: absolute; left: auto; width: 85%;">
								<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=220 height=86 src="//music.163.com/outchain/player?type=2&id=1941325363&auto=1&height=66"></iframe>
							</div>
						
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/%E4%B8%8A%E8%AF%BE%E7%AC%94%E8%AE%B0/" style="font-size: 20px;">上课笔记</a> <a href="/tags/%E5%B0%8F%E8%AE%B0/" style="font-size: 15px;">小记</a> <a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F32/" style="font-size: 15px;">嵌入式32</a> <a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F51/" style="font-size: 10px;">嵌入式51</a> <a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8Fti/" style="font-size: 10px;">嵌入式ti</a> <a href="/tags/%E6%99%BA%E8%83%BD%E8%BD%A6%E7%AB%9E%E8%B5%9B/" style="font-size: 10px;">智能车竞赛</a> <a href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" style="font-size: 20px;">编程语言</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/">github</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">噜啦啦!</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide"></h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/img/header.png" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author"></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">Home</a></li>
		        
					<li><a href="/archives">Archives</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/2575451471" title="github">github</a>
			        
						<a class="cnblogs" target="_blank" href="https://www.cnblogs.com/shenleblog" title="cnblogs">cnblogs</a>
			        
						<a class="qq" target="_blank" href="https://img2023.cnblogs.com/blog/3084836/202502/3084836-20250215043636691-2144966981.jpg" title="qq">qq</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-51study.18632530" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2025/01/03/51study.18632530/" class="article-date">
  	<time datetime="2025-01-03T15:39:00.000Z" itemprop="datePublished">2025-01-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      51study
      
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F51/" rel="tag">嵌入式51</a></li></ul>
	</div>

        

        
          
<div class="counter-tag counter">
    <span id="/2025/01/03/51study.18632530/" class="leancloud_visitors post-title-link"
          style="font-size: 12px" data-flag-title="51study">
         &nbsp;
        view
    </span>
</div>

        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <meta name="referrer" content="no-referrer"/>
<span id="more"></span>






<h1 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h1><h1 id="江科大自化协（AT89C51）"><a href="#江科大自化协（AT89C51）" class="headerlink" title="江科大自化协（AT89C51）"></a>江科大自化协（AT89C51）</h1><h2 id="八位数码管静态显示"><a href="#八位数码管静态显示" class="headerlink" title="八位数码管静态显示"></a>八位数码管静态显示</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">char</span> NixieTable[]=&#123;<span class="number">0x3F</span>,<span class="number">0x06</span>,<span class="number">0x5B</span>,<span class="number">0x4F</span>,<span class="number">0x66</span>,<span class="number">0x6D</span>,<span class="number">0x7D</span>,<span class="number">0x07</span>,<span class="number">0x7F</span>,<span class="number">0x6F</span>&#125;;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Nixie</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Location,Number)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">switch</span>(Location)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">8</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    P0=NixieTable[Number];</span><br><span class="line">&#125;</span><br><span class="line">Nixie[<span class="number">2</span>,<span class="number">3</span>];<span class="comment">//第二位数码管显示数字3</span></span><br></pre></td></tr></table></figure>

<h2 id="LCD1602调试工具"><a href="#LCD1602调试工具" class="headerlink" title="LCD1602调试工具"></a>LCD1602调试工具</h2><p>使用LCD1602液晶屏作为调试窗口，提供类似printf函数的功能，可实时观察单片机内部数据的变换情况，便于调试和演示。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>LCD_Init();</td>
<td>初始化</td>
</tr>
<tr>
<td>LCD_ShowChar(1,1,’A’);</td>
<td>显示一个字符</td>
</tr>
<tr>
<td>LCD_ShowString(1,3,”Hello”);</td>
<td>显示字符串</td>
</tr>
<tr>
<td>LCD_ShowNum(1,9,123,3);</td>
<td>显示十进制数字</td>
</tr>
<tr>
<td>LCD_ShowSignedNum(1,13,-66,2);</td>
<td>显示有符号十进制数字</td>
</tr>
<tr>
<td>LCD_ShowHexNum(2,1,0xA8,2);</td>
<td>显示十六进制数字</td>
</tr>
<tr>
<td>LCD_ShowBinNum(2,4,0xAA,8);</td>
<td>显示二进制数字</td>
</tr>
</tbody></table>
<h1 id="AT89C52（冬令营）"><a href="#AT89C52（冬令营）" class="headerlink" title="AT89C52（冬令营）"></a>AT89C52（冬令营）</h1><h3 id="11-0592MHS的延时1ms函数"><a href="#11-0592MHS的延时1ms函数" class="headerlink" title="11.0592MHS的延时1ms函数"></a>11.0592MHS的延时1ms函数</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">delay_ms</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line">    <span class="keyword">while</span>(n--)</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">113</span>; i++);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="数码管显示"><a href="#数码管显示" class="headerlink" title="数码管显示"></a>数码管显示</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> DUANXUAN P3</span></span><br><span class="line">sbit WEI1 = P2^<span class="number">6</span>;</span><br><span class="line">sbit WEI2 = P2^<span class="number">7</span>;</span><br><span class="line"><span class="type">int</span> nums[<span class="number">10</span>] = &#123;<span class="number">0x3F</span>, <span class="number">0x06</span>, <span class="number">0x5B</span>, <span class="number">0x4F</span>, <span class="number">0x66</span>, <span class="number">0x6D</span>, <span class="number">0x7D</span>, <span class="number">0x07</span>, <span class="number">0x7F</span>, <span class="number">0x6F</span>&#125;;</span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_ms</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> n)</span><span class="comment">//延时1ms函数</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line">    <span class="keyword">while</span>(n--)</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">113</span>; i++);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">display_num</span><span class="params">(<span class="type">int</span> num)</span></span><br><span class="line">&#123;</span><br><span class="line">	WEI1 = <span class="number">0</span>; </span><br><span class="line">	DUANXUAN = nums[num / <span class="number">10</span>]; <span class="comment">//显示个位</span></span><br><span class="line">	delay_ms(<span class="number">25</span>);</span><br><span class="line">	WEI1 = <span class="number">1</span>; </span><br><span class="line">	WEI2 = <span class="number">0</span>;  </span><br><span class="line">	DUANXUAN = nums[num % <span class="number">10</span>]; <span class="comment">//显示十位</span></span><br><span class="line">	delay_ms(<span class="number">25</span>);</span><br><span class="line">	WEI2 = <span class="number">1</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数码管阴阳极"><a href="#数码管阴阳极" class="headerlink" title="数码管阴阳极"></a>数码管阴阳极</h3><p>共阴极数码管：位选高电平有效，段选低电平有效</p>
<p>共阳极数码管：位选低电平有效，段选高电平有效</p>
<h2 id="中断相关的寄存器"><a href="#中断相关的寄存器" class="headerlink" title="中断相关的寄存器"></a>中断相关的寄存器</h2><h3 id="定时-计数控制寄存器（TCON）"><a href="#定时-计数控制寄存器（TCON）" class="headerlink" title="定时&#x2F;计数控制寄存器（TCON）"></a>定时&#x2F;计数控制寄存器（TCON）</h3><table>
<thead>
<tr>
<th></th>
<th>定 时器中断</th>
<th></th>
<th></th>
<th></th>
<th>外部中断</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>位</td>
<td>D7</td>
<td>D6</td>
<td>D5</td>
<td>D4</td>
<td>D3</td>
<td>D2</td>
<td>D1</td>
<td>D0</td>
</tr>
<tr>
<td>功能</td>
<td>TF1</td>
<td>TR1</td>
<td>TF0</td>
<td>TR0</td>
<td>IE1</td>
<td>IT1</td>
<td>IE0</td>
<td>IT0</td>
</tr>
<tr>
<td>详细</td>
<td>定时器1中断标志位</td>
<td>打开定时计数器1</td>
<td>定时器0中断标志位</td>
<td>打开定时计数器1</td>
<td>外部中断1标志位</td>
<td>外部中断1触发方式</td>
<td>外部中断0标志位</td>
<td>外部中断0触发方式</td>
</tr>
</tbody></table>
<p>注释：外部中断触发方式（IT0&#x2F;IT1）为1时负跳变触发，为0时低电平触发。</p>
<h3 id="定时器工作方式寄存器-TMOD"><a href="#定时器工作方式寄存器-TMOD" class="headerlink" title="定时器工作方式寄存器(TMOD)"></a>定时器工作方式寄存器(TMOD)</h3><table>
<thead>
<tr>
<th></th>
<th>定时器1</th>
<th></th>
<th></th>
<th></th>
<th>定时器0</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>位</td>
<td>D7</td>
<td>D6</td>
<td>D5</td>
<td>D4</td>
<td>D3</td>
<td>D2</td>
<td>D1</td>
<td>D0</td>
</tr>
<tr>
<td>功能</td>
<td>GATE</td>
<td>C&#x2F;T</td>
<td>M1</td>
<td>M0</td>
<td>GATE</td>
<td>C&#x2F;T</td>
<td>M1</td>
<td>M0</td>
</tr>
<tr>
<td></td>
<td>决定定时器的开启方式。当其等于0时，定时器完全由TRx决定。当其等于1时，定时器由TRx和INTx（外部中断引脚，高电平）决定</td>
<td>选择频率的来源。&#x3D;0时-定时器-12&#x2F;晶振频率。&#x3D;1时-计数器-外部脉冲频率。</td>
<td>M1与M0选择定时&#x2F;计数器的工作方式，详见下表。定时器0与定时器1一致。</td>
<td></td>
<td>GATE</td>
<td>C&#x2F;T</td>
<td>M1</td>
<td>M0</td>
</tr>
</tbody></table>
<p>M1与M0（定时计数器工作方式）</p>
<table>
<thead>
<tr>
<th>M1</th>
<th>M0</th>
<th>工作方式</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>0</td>
<td>方式0：计数器大小是13bit（Thx与低5bit的Tlx）</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>方式1：计数器大小是16bit</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>方式2：计数器大小是8bit</td>
</tr>
<tr>
<td>1</td>
<td>1</td>
<td>方式3：T0分为两个独立的计数器，T1没有工作方式</td>
</tr>
</tbody></table>
<h3 id="中断允许寄存器（IE）"><a href="#中断允许寄存器（IE）" class="headerlink" title="中断允许寄存器（IE）"></a>中断允许寄存器（IE）</h3><table>
<thead>
<tr>
<th>位</th>
<th>D7</th>
<th>D6</th>
<th>D5</th>
<th>D4</th>
<th>D3</th>
<th>D2</th>
<th>D1</th>
<th>D0</th>
</tr>
</thead>
<tbody><tr>
<td>功能</td>
<td>EA</td>
<td></td>
<td></td>
<td>ES</td>
<td>ET1</td>
<td>EX1</td>
<td>ET0</td>
<td>EX0</td>
</tr>
<tr>
<td>详细</td>
<td>总中断允许位。&#x3D;0时CPU屏蔽所有中断。&#x3D;1时CPU接收所有中断。</td>
<td></td>
<td></td>
<td>串口中断允许位。&#x3D;0时禁止串口中断。&#x3D;1时允许串口中断。</td>
<td>定时计数器中断1允许位。&#x3D;0时禁止。&#x3D;1时允许</td>
<td>外部中断1允许位。&#x3D;0时禁止。&#x3D;1时允许</td>
<td>定时计数器中断0允许位。&#x3D;0时禁止。&#x3D;1时允许</td>
<td>外部中断0允许位。&#x3D;0时禁止。&#x3D;1时允许</td>
</tr>
</tbody></table>
<h2 id="中断地址"><a href="#中断地址" class="headerlink" title="中断地址"></a>中断地址</h2><table>
<thead>
<tr>
<th>中断编号</th>
<th>中断源</th>
<th>入口地址</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>外部中断0</td>
<td>0003H</td>
</tr>
<tr>
<td>1</td>
<td>定时计数器中断0</td>
<td>000BH</td>
</tr>
<tr>
<td>2</td>
<td>外部中断1</td>
<td>0013H</td>
</tr>
<tr>
<td>3</td>
<td>定时计数器中断1</td>
<td>001BH</td>
</tr>
<tr>
<td>4</td>
<td>串口中断</td>
<td>0023H</td>
</tr>
</tbody></table>
<h2 id="外部中断的开启步骤及举例"><a href="#外部中断的开启步骤及举例" class="headerlink" title="外部中断的开启步骤及举例"></a>外部中断的开启步骤及举例</h2><p>1.设置外部中断的触发方式（IT0&#x2F;IT1）</p>
<p>2.开启外部中断允许位（EX0&#x2F;EX1）</p>
<p>3.开启总中断（EA）</p>
<p>例子：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">INTconfiuration</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	IT1=<span class="number">0</span>;<span class="comment">//设置外部中断1的触发方式为低电平触发</span></span><br><span class="line">	EX1=<span class="number">1</span>;<span class="comment">//开启外部中断1允许位</span></span><br><span class="line">	EA=<span class="number">1</span>;<span class="comment">//开启总中断允许位</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="定时计数器中断的开启步骤及举例"><a href="#定时计数器中断的开启步骤及举例" class="headerlink" title="定时计数器中断的开启步骤及举例"></a>定时计数器中断的开启步骤及举例</h2><p>1.选择工作方式（M0,M1）</p>
<p>2.选择控制方式（设置GATE）</p>
<p>3.选择计数还是定时模式（设置C&#x2F;T）</p>
<p>4.给定时计数器赋初值（设置THx和TLx）(x为0或1)</p>
<p>5.开启定时计数器中断允许位</p>
<p>6.开启总中断允许位</p>
<p>7开启定时计数器（设置TR1&#x2F;TR0）</p>
<p>定时&#x2F;计数器中断举例</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">TimeConfiguration</span><span class="params">()</span><span class="comment">//定时器0对红绿灯进行操作</span></span><br><span class="line">&#123;</span><br><span class="line">	TMOD = <span class="number">0x01</span>;<span class="comment">//定时计数器0设置为工作方式1</span></span><br><span class="line">	TL0 = <span class="number">0x66</span>;	<span class="comment">//设置定时器初值</span></span><br><span class="line">	TH0 = <span class="number">0xFC</span>;	<span class="comment">//设置定时器初值 11.0592MHz  延时1ms</span></span><br><span class="line">	ET0 = <span class="number">1</span>;<span class="comment">//开启定时计数器0中断</span></span><br><span class="line">    EA = <span class="number">1</span>;	<span class="comment">//开启总中断</span></span><br><span class="line">	TR0 = <span class="number">1</span>;<span class="comment">//开启定时计数器0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>中断函数举例（外部中断&#x2F;定时计数器中断）</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">LED_change</span><span class="params">()</span> interrupt 1 <span class="comment">//返回值必须为空</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//具体代码~~</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="频率周期"><a href="#频率周期" class="headerlink" title="频率周期"></a>频率周期</h2><p>晶振频率：fosc&#x3D;11.0592MHZ</p>
<p>晶振周期：T晶振&#x3D;1&#x2F;fosc&#x3D;1&#x2F;11.0592MHZ</p>
<p>把晶振周期定义为一个节拍，记为P，2个节拍作为状态周期S&#x3D;2P。</p>
<p>机器周期：芯片内部时间的最小单位，其他所有事件的执行时间都是它的整数倍。T机器&#x3D;6S&#x3D;12P&#x3D;12&#x2F;11.0592MHZ~~1.085us&#x3D;1us.</p>
<p>运用举例：用于计数器初值的计算：用12MHZ的晶振频率，对应的机器周期时1us.此时若定时1ms的初值即要运行1000次的机器周期（计数1000次）。</p>
<h1 id="AT24C02"><a href="#AT24C02" class="headerlink" title="AT24C02"></a>AT24C02</h1><p>通讯接口：I2C总线</p>
<p>容量：256字节</p>
<h2 id="I2C总线"><a href="#I2C总线" class="headerlink" title="I2C总线"></a>I2C总线</h2><p>两根通信线：SCL(Serial clock),SDA(Serial data)</p>
<p><img src="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226131710572-1180467501.png" alt="img"></p>
<p><img src="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226131729741-1962142620.png" alt="img"></p>
<p><img src="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226131754795-201271252.png" alt="img"></p>
<h2 id="I2C时序"><a href="#I2C时序" class="headerlink" title="I2C时序"></a>I2C时序</h2><ul>
<li>起始条件：SCL高电平，SDA从高到低</li>
<li>终止条件：SCL高电平，SDA从低到高</li>
</ul>
<p><img src="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226131808515-806790385.png" alt="img"></p>
<ul>
<li>发送一个字节</li>
</ul>
<p><img src="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226131826067-688408422.png" alt="img"></p>
<ul>
<li><p>接受一个字节(主机在接收之前释放SDA线是为了把控制权交给从机)</p>
<p><img src="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226131912276-1838087298.png" alt="img"></p>
</li>
<li><p>发送应答：接收完之后发送应答（从机给主机发送是否应答，主体是从机）</p>
</li>
<li><p>接收应答：发送完之后接收应答(主机给从机发送是否应答，主体是主机)</p>
</li>
</ul>
<p><img src="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226131934133-1552932081.png" alt="img"></p>
<h2 id="I2C数据帧"><a href="#I2C数据帧" class="headerlink" title="I2C数据帧"></a>I2C数据帧</h2><p><img src="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226131948133-577819298.png" alt="img"></p>
<p>第一个字节数据一定要发从机地址和加上读写位（找谁）</p>
<p>一个字节是八位，前七位是地址，最后一位是读写标志位（W写是0，R读是1）</p>
<p>前四位是固定端（A6,A5,A4,A3）(24C02是固定为1010)</p>
<p>后三位可配置（A2,A1,A0）</p>
<p><img src="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226132005797-1686435685.png" alt="img"></p>
<p>​	<img src="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226132019438-699575464.png" alt="img"></p>
<p><img src="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226132031706-1460193937.png" alt="img"></p>
<p><img src="https://img2023.cnblogs.com/blog/3084836/202412/3084836-20241226132046827-724029345.png" alt="img"></p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2025/01/03/Markdown%E5%AD%A6%E4%B9%A0.18633990/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          Markdown学习
        
      </div>
    </a>
  
  
    <a href="/2025/01/03/%E6%B1%9F%E7%A7%91%E5%A4%A732study.18635848/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">江科大32study</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>






</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2025 shenle
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/preccrep/hexo-theme-jelly" target="_blank">Jelly</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">



<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: true
	}
</script>

<script src="/js/main.js"></script>




<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js"></script>


  </div>
</body>
</html>